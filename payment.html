<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Payment - Cooshey Cake n' Arts</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="payment.css">
</head>
<body>
    <div class="payment-container">
        <div class="payment-header">
            <div class="logo-section">
                <img src="assets/logo.png" alt="Cooshey Cake Logo" class="header-logo">
                <h1>Cooshey Cake n' Arts</h1>
            </div>
        </div>

        <div class="payment-content">
            <div class="order-summary-card">
                <div class="card-header">
                    <h3><i class="fas fa-shopping-cart"></i> Order Summary</h3>
                </div>
                <div class="card-body">
                    <div class="order-info">
                        <h2>Complete Your Payment</h2>
                        <p class="order-number">Order #<span id="orderId">Loading...</span></p>
                    </div>
                    <div class="order-details" id="orderDetails">
                        <div class="loading-spinner">Loading order details...</div>
                    </div>
                    <div class="order-total">
                        <div class="total-row">
                            <span class="total-label">Total Amount:</span>
                            <span class="total-amount">₱<span id="totalAmount">0.00</span></span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="payment-method-card">
                <div class="card-header">
                    <h3><i class="fas fa-credit-card"></i> Payment Method</h3>
                </div>
                <div class="card-body">
                    <div class="payment-method">
                        <div class="method-header">
                            <i class="fab fa-google-pay gcash-icon"></i>
                            <div class="method-info">
                                <h4>GCash Payment</h4>
                                <p>Send money to our GCash account</p>
                            </div>
                        </div>

                        <div class="gcash-details">
                            <div class="account-info">
                                <div class="info-row">
                                    <span class="label">GCash Number:</span>
                                    <span class="value" id="gcashNumber">09123456789</span>
                                    <button class="copy-btn" onclick="copyToClipboard('09123456789')">
                                        <i class="fas fa-copy"></i>
                                    </button>
                                </div>
                                <div class="info-row">
                                    <span class="label">Account Name:</span>
                                    <span class="value" id="accountName">Cooshey Cake n' Arts</span>
                                </div>
                                <div class="info-row">
                                    <span class="label">Amount to Send:</span>
                                    <span class="value amount-highlight">₱<span id="exactAmount">0.00</span></span>
                                </div>
                            </div>
                            <div class="qr-section">
                                <p class="qr-label">Scan QR Code (Optional)</p>
                                <div class="qr-placeholder">
                                    <i class="fas fa-qrcode"></i>
                                    <p>QR Code will be displayed here</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="instructions-card">
                <div class="card-header">
                    <h3><i class="fas fa-list-check"></i> Payment Instructions</h3>
                </div>
                <div class="card-body">
                    <ol class="instructions-list">
                        <li>
                            <div class="step-number">1</div>
                            <div class="step-content">
                                <strong>Open your GCash app</strong>
                                <p>Make sure you have sufficient balance</p>
                            </div>
                        </li>
                        <li>
                            <div class="step-number">2</div>
                            <div class="step-content">
                                <strong>Send Money</strong>
                                <p>Enter the GCash number shown above</p>
                            </div>
                        </li>
                        <li>
                            <div class="step-number">3</div>
                            <div class="step-content">
                                <strong>Enter Exact Amount</strong>
                                <p>Send exactly ₱<span id="instructionAmount">0.00</span></p>
                            </div>
                        </li>
                        <li>
                            <div class="step-number">4</div>
                            <div class="step-content">
                                <strong>Take Screenshot</strong>
                                <p>Capture the successful transaction receipt</p>
                            </div>
                        </li>
                        <li>
                            <div class="step-number">5</div>
                            <div class="step-content">
                                <strong>Upload Receipt</strong>
                                <p>Submit the screenshot below</p>
                            </div>
                        </li>
                    </ol>
                </div>
            </div>

            <div class="upload-card">
                <div class="card-header">
                    <h3><i class="fas fa-cloud-upload-alt"></i> Upload Payment Proof</h3>
                </div>
                <div class="card-body">
                    <form id="paymentForm" enctype="multipart/form-data">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="receipt">Payment Receipt Screenshot *</label>
                                <div class="file-upload">
                                    <input type="file" id="receipt" name="receipt" accept="image/*" required>
                                    <div class="file-upload-area">
                                        <i class="fas fa-cloud-upload-alt"></i>
                                        <p>Click to select or drag and drop your receipt image</p>
                                        <span class="file-hint">Supported formats: JPG, PNG, GIF. Max size: 5MB</span>
                                    </div>
                                    <div class="file-preview" id="filePreview" style="display: none;">
                                        <img id="previewImage" src="" alt="Receipt preview">
                                        <button type="button" class="remove-file" onclick="removeFile()">
                                            <i class="fas fa-times"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="reference">GCash Reference Number (Optional)</label>
                                <input type="text" id="reference" name="reference" placeholder="Enter reference number from GCash">
                                <small class="form-hint">This helps us verify your payment faster</small>
                            </div>
                        </div>

                        <div class="form-actions">
                            <button type="button" class="btn btn-secondary" onclick="goBack()">
                                <i class="fas fa-arrow-left"></i> Back to Order
                            </button>
                            <button type="submit" class="btn btn-primary" id="submitBtn">
                                <i class="fas fa-paper-plane"></i> Submit Payment Proof
                            </button>
                        </div>
                    </form>
                </div>
            </div>

            <div class="status-card" id="paymentStatus" style="display: none;">
                <div class="card-header">
                    <h3><i class="fas fa-info-circle"></i> Payment Status</h3>
                </div>
                <div class="card-body">
                    <div class="status-message" id="statusMessage"></div>
                    <div class="status-actions">
                        <button class="btn btn-primary" onclick="goToHome()">
                            <i class="fas fa-home"></i> Back to Home
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <div class="payment-footer">
            <div class="support-info">
                <p><i class="fas fa-headset"></i> Need help? Contact us at support@coosheycake.com</p>
                <p><i class="fas fa-clock"></i> We typically verify payments within 24 hours</p>
            </div>
        </div>
    </div>

    <script src="payment.js"></script>
    <script>
      function copyToClipboard(text) {
        navigator.clipboard.writeText(text);
        alert('GCash number copied!');
      }
      function goBack() { window.history.back(); }
      function goToHome() { window.location.href = '/'; }
      function removeFile() { document.getElementById('filePreview').style.display = 'none'; }
      // Add additional file upload preview logic as needed.
    </script>
</body>
</html>
